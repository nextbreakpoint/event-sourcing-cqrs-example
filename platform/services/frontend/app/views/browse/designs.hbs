<body>
    <header><p><b>The Beauty of Chaos</b> | Fractals</p></header>
    {{#each grid}}
    {{#each .}}
    <div class="elements">
    {{#each .}}
        <div id="{{design.uuid}}" class="element"><a href="{{design.location}}"><img src="{{imageUrl}}?t={{design.checksum}}" alt="{{design.location}}"/></a></div>
    {{/each}}
    </div>
    {{/each}}
    {{/each}}
    <footer>
        <p>Powered by <a href="https://nextbreakpoint.com">NextBreakpoint</a>{{#if admin}} | <a href="../admin/designs.html">Edit</a>{{/if}}{{#if login}} | <a href="{{config.api_url}}/v1/auth/signin/admin/designs.html">Login</a>{{/if}}</p>
    </footer>
    <script>
        function resize() {
            let size = Math.floor(window.innerWidth / 8);
            let elements = document.querySelectorAll(".element");
            for (let i = 0; i < elements.length; i++) {
                elements[i].style.width = size + "px";
                elements[i].style.height = size + "px";
            }
        }
        domReady(function(event) {
            window.addEventListener('resize', function(e) {
                resize();
            });
        })
        resize();
    </script>
</body>
